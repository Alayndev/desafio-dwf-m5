function e(e,t,n,s){Object.defineProperty(e,t,{get:n,set:s,enumerable:!0,configurable:!0})}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},s={},o=t.parcelRequire9acc;null==o&&((o=function(e){if(e in n)return n[e].exports;if(e in s){var t=s[e];delete s[e];var o={id:e,exports:{}};return n[e]=o,t.call(o.exports,o,o.exports),o.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){s[e]=t},t.parcelRequire9acc=o),o.register("7PhYn",(function(t,n){var s,o;e(t.exports,"register",(()=>o),(e=>o=e)),e(t.exports,"resolve",(()=>s),(e=>s=e));var r={};o=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)r[t[n]]=e[t[n]]},s=function(e){var t=r[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),o("7PhYn").register(JSON.parse('{"di8mO":"index.1375b2ba.js","15RfT":"userWin.a5669fde.svg","dNBXa":"computerWin.9846907e.svg","84zE7":"tiedGame.942fa99c.svg","2qdPV":"paper-hand.84227202.png","9ajrQ":"rock-hand.ed82fbe7.png","3vvon":"scissors-hand.d0663f1c.png","g1MCv":"index.af28c318.css"}'));const r={data:{currentGame:{computerMove:"none",userMove:"none"},history:{userWins:0,computerWins:0}},listeners:[],getState(){return this.data},setState(e){this.data=e;for(const e of this.listeners)e();localStorage.setItem("game-data",JSON.stringify(this.data))},initState(){localStorage.setItem("game-data",JSON.stringify(this.data));const e=JSON.parse(localStorage.getItem("game-data"));this.setState(e)},subscribe(e){this.listeners.push(e)},whoWins(e,t){const n=["rock"===e&&"scissors"===t,"paper"===e&&"rock"===t,"scissors"===e&&"paper"===t].includes(!0),s=["rock"===t&&"scissors"===e,"paper"===t&&"rock"===e,"scissors"===t&&"paper"===e].includes(!0);let o;return o=n?"userWins":s?"computerWins":"tiedGame",o},changeHistory(e){const t=this.getState();"userWins"===e?t.history.userWins+=1:"computerWins"===e&&(t.history.computerWins+=1),this.setState(t)},setMove(e,t){const n=this.getState();n.currentGame[t]=e,this.setState(n)},getCurrentGame(){return this.getState().currentGame},getCurrentHistory(){return this.getState().history},restartGame(){const e=this.getState();e.currentGame.computerMove="none",e.currentGame.userMove="none",this.setState(e)}};function a(){const e=["rock","paper","scissors"];return e[Math.floor(Math.random()*e.length)]}o.register("3GIAR",(function(e,t){e.exports=o("kVZsc").getBundleURL("di8mO")+o("7PhYn").resolve("15RfT")})),o.register("kVZsc",(function(t,n){var s;e(t.exports,"getBundleURL",(()=>s),(e=>s=e));var o={};function r(e){return(""+e).replace(/^((?:https?|file|ftp):\/\/.+)\/[^/]+$/,"$1")+"/"}s=function(e){var t=o[e];return t||(t=function(){try{throw new Error}catch(t){var e=(""+t.stack).match(/(https?|file|ftp):\/\/[^)\n]+/g);if(e)return r(e[2])}return"/"}(),o[e]=t),t}})),o.register("iochA",(function(e,t){e.exports=o("kVZsc").getBundleURL("di8mO")+o("7PhYn").resolve("dNBXa")})),o.register("3zIIQ",(function(e,t){e.exports=o("kVZsc").getBundleURL("di8mO")+o("7PhYn").resolve("84zE7")}));const i={userWins:o("3GIAR"),computerWins:o("iochA"),tiedGame:o("3zIIQ")};const c=[{route:/\/desafio-dwf-m5\/home/,page:function(e){const t=document.createElement("div");return t.classList.add("main-container"),t.innerHTML='\n    <h1 class="home__title" > Piedra Papel ó Tijera </h1>\n    \n    <button-comp> Empezar </button-comp>\n\n    <div class="hands-container">  \n      <hand-comp handType="scissors"></hand-comp>\n      <hand-comp handType="rock"></hand-comp>\n      <hand-comp handType="paper"></hand-comp>\n    </div>\n  ',t.querySelector("button-comp").addEventListener("click",(()=>{e.goTo("/desafio-dwf-m5/instructions")})),t}},{route:/\/desafio-dwf-m5\/instructions/,page:function(e){const t=document.createElement("div");return t.classList.add("main-container"),t.innerHTML='\n    <p class="instructions__title" > Presioná jugar y elegí: piedra, papel o tijera antes de que pasen los 3 segundos. </p>\n\n    <button-comp> ¡Jugar! </button-comp>\n\n    <div class="hands-container">  \n      <hand-comp handType="scissors"></hand-comp>\n      <hand-comp handType="rock"></hand-comp>\n      <hand-comp handType="paper"></hand-comp>\n    </div>  \n\n  ',t.querySelector("button-comp").addEventListener("click",(()=>{e.goTo("/desafio-dwf-m5/countdown")})),t}},{route:/\/desafio-dwf-m5\/countdown/,page:function(e){let t=3;const n=document.createElement("div");n.classList.add("game-countdown"),n.innerHTML=`\n    <div class="circle-container">\n      <div class="circle">\n        <h3 class="countdown-counter">${t}</h3>\n      </div>\n    </div>\n\n    <div class="hands-container">  \n      <hand-comp handType="scissors"></hand-comp>\n      <hand-comp handType="rock"></hand-comp>\n      <hand-comp handType="paper"></hand-comp>\n    </div>\n  `;const s=n.querySelectorAll("hand-comp");s.forEach((e=>{e.addEventListener("handClick",(e=>{console.log(e.target),console.log(e.detail);const t=e.detail.handMove;r.setMove(t,"userMove"),s.forEach((e=>{const n=e.shadowRoot.querySelector(".hand");e.getAttribute("handType")!==t?(n.classList.add("inactive-hand"),n.classList.remove("active-hand")):e.getAttribute("handType")===t&&(n.classList.add("active-hand"),n.classList.remove("inactive-hand"))}))}))})),r.setMove(a(),"computerMove");const o=n.querySelector(".countdown-counter"),i=setInterval((()=>{if(t--,0===t){clearInterval(i);const t=r.getCurrentGame();"none"===t.userMove&&r.setMove(a(),"userMove"),n.classList.add("game-hands-show"),n.innerHTML=`\n        <hand-comp handType=${t.computerMove} class="computer-hand" handHeight="215px" handWidth="90px"></hand-comp>\n        <hand-comp handType=${t.userMove} class="user-hand" handHeightt="215px" handWidth="90px"></hand-comp>\n       `,setTimeout((()=>{e.goTo("/desafio-dwf-m5/result")}),3e3)}o.textContent=t.toString()}),1e3);return n}},{route:/\/desafio-dwf-m5\/result/,page:function(e){const t=document.createElement("div");t.classList.add("main-container");const n=r.getCurrentGame(),s=r.whoWins(n.userMove,n.computerMove);console.log(s),"userWins"===s?t.classList.add("user-wins"):"computerWins"===s?t.classList.add("computer-wins"):"tiedGame"===s&&t.classList.add("tied-game"),r.changeHistory(s);const o=r.getCurrentHistory();return r.restartGame(),t.innerHTML=`\n    <div class="subcontainer">\n      <img src=${i[s]} class="result__img" />\n\n      <div class="result__record">\n        <h3 class="result__score"> Score: </h3>\n        <p class="result__score-points"> Vos: ${o.userWins} </p>\n        <p class="result__score-points"> Máquina: ${o.computerWins} </p>\n      </div>\n\n      <div class="button-section">\n        <button-comp class="start-button"> Volver a jugar </button-comp>\n      </div>\n    </div>\n  `,t.querySelector("button-comp").addEventListener("click",(()=>{e.goTo("/desafio-dwf-m5/instructions")})),t}}];o.register("5VGzG",(function(e,t){e.exports=o("kVZsc").getBundleURL("di8mO")+o("7PhYn").resolve("2qdPV")})),o.register("5TN2N",(function(e,t){e.exports=o("kVZsc").getBundleURL("di8mO")+o("7PhYn").resolve("9ajrQ")})),o.register("i7TP3",(function(e,t){e.exports=o("kVZsc").getBundleURL("di8mO")+o("7PhYn").resolve("3vvon")}));const d={paper:o("5VGzG"),rock:o("5TN2N"),scissors:o("i7TP3")};!function(e){function t(e){history.pushState({},"",e),n(e)}function n(n){for(const s of c)if(s.route.test(n)){const n=s.page({goTo:t});e.firstChild?.remove(),e.appendChild(n)}}location.host.includes("github.io")?t("/desafio-dwf-m5/home"):n(location.pathname),window.onpopstate=function(){n(location.pathname)}}(document.querySelector("#root")),r.initState(),function(){class e extends HTMLElement{constructor(){super(),this.shadow=this.attachShadow({mode:"open"})}connectedCallback(){this.render()}render(){const e=document.createElement("button");e.classList.add("button");const t=document.createElement("style");t.textContent="\n        .button {\n            width: 100%;\n            height: 87px;\n            padding: 10px;\n          \n            font-family: inherit;\n            font-size: 45px;\n          \n            color: white;\n            background-color: #006cfc;\n            border: solid 10px #09428d;\n            border-radius: 10px;          \n        }\n      ",e.textContent=this.textContent,this.shadow.appendChild(t),this.shadow.appendChild(e)}}customElements.define("button-comp",e)}(),function(){class e extends HTMLElement{constructor(){super(),this.shadow=this.attachShadow({mode:"open"})}connectedCallback(){this.render()}addHandListeners(){this.shadow.querySelector(".hand").addEventListener("click",(()=>{const e=new CustomEvent("handClick",{detail:{handMove:this.getAttribute("handType")}});this.dispatchEvent(e)}))}render(){const e=this.getAttribute("handType")||"paper",t=this.getAttribute("handHeight")||"180px",n=this.getAttribute("handWidth")||"70px",s=document.createElement("img");s.classList.add("hand"),s.setAttribute("src",d[e]);const o=document.createElement("style");o.textContent=`\n        * {\n            box-sizing: border-box;\n        }\n\n        .hand {\n            height: ${t};\n            width: ${n};\n            transform: translateY(30px);\n            transition: all 0.3s ease-in-out;\n            cursor: pointer;\n        }\n\n        .active-hand {\n            transform: translateY(5px);\n            transition: all 0.3s ease-in-out;\n        }\n\n        .inactive-hand {\n            opacity: 45%;\n            transition: all 0.3s ease-in-out;\n        }        \n      `,this.shadow.appendChild(o),this.shadow.appendChild(s),this.addHandListeners()}}customElements.define("hand-comp",e)}();
//# sourceMappingURL=index.1375b2ba.js.map
