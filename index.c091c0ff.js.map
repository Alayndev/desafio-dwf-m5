{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-bff04e0af22503aa.js","src/state.ts","src/pages/countdown/countdown.ts","node_modules/@parcel/runtime-js/lib/runtime-7ab7fa7dcab89851.js","node_modules/@parcel/runtime-js/lib/helpers/bundle-url.js","node_modules/@parcel/runtime-js/lib/runtime-ecb2ec7b5c0fe3b2.js","node_modules/@parcel/runtime-js/lib/runtime-804cee7a1d3db55d.js","src/pages/result/result.ts","src/router.ts","src/pages/home/home.ts","src/pages/instructions/instructions.ts","node_modules/@parcel/runtime-js/lib/runtime-13c6737f78fda497.js","node_modules/@parcel/runtime-js/lib/runtime-a6ed04cd56b0b24a.js","node_modules/@parcel/runtime-js/lib/runtime-43b172687579b915.js","src/components/hand/hand.ts","src/index.ts","src/components/button/button.ts"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"di8mO\\\":\\\"index.c091c0ff.js\\\",\\\"15RfT\\\":\\\"userWin.a5669fde.svg\\\",\\\"dNBXa\\\":\\\"computerWin.9846907e.svg\\\",\\\"84zE7\\\":\\\"tiedGame.942fa99c.svg\\\",\\\"2qdPV\\\":\\\"paper-hand.84227202.png\\\",\\\"9ajrQ\\\":\\\"rock-hand.ed82fbe7.png\\\",\\\"3vvon\\\":\\\"scissors-hand.d0663f1c.png\\\",\\\"g1MCv\\\":\\\"index.a9c50f5d.css\\\"}\"));","type Move = \"rock\" | \"paper\" | \"scissors\";\r\ntype Player = \"userMove\" | \"computerMove\";\r\ntype Winner = \"userWins\" | \"computerWins\" | \"tiedGame\";\r\n\r\nconst state = {\r\n  data: {\r\n    currentGame: {\r\n      computerMove: \"none\",\r\n      userMove: \"none\",\r\n    },\r\n\r\n    history: {\r\n      userWins: 0,\r\n      computerWins: 0,\r\n    },\r\n  },\r\n\r\n  listeners: [],\r\n\r\n  getState() {\r\n    return this.data;\r\n  },\r\n\r\n  setState(newState) {\r\n    this.data = newState;\r\n\r\n    for (const cb of this.listeners) {\r\n      cb();\r\n    }\r\n\r\n    localStorage.setItem(\"game-data\", JSON.stringify(this.getState()));\r\n  },\r\n\r\n  initState() {\r\n    const localData = JSON.parse(localStorage.getItem(\"game-data\"));\r\n\r\n    this.setState(localData);\r\n  },\r\n\r\n  subscribe(cb: (any) => any) {\r\n    this.listeners.push(cb);\r\n  },\r\n\r\n  whoWins(userMove: Move, computerMove: Move) {\r\n    const userWins = [\r\n      userMove === \"rock\" && computerMove === \"scissors\",\r\n      userMove === \"paper\" && computerMove === \"rock\",\r\n      userMove === \"scissors\" && computerMove === \"paper\",\r\n    ].includes(true);\r\n\r\n    const computerWins = [\r\n      computerMove === \"rock\" && userMove === \"scissors\",\r\n      computerMove === \"paper\" && userMove === \"rock\",\r\n      computerMove === \"scissors\" && userMove === \"paper\",\r\n    ].includes(true);\r\n\r\n    let winner: Winner;\r\n\r\n    if (userWins) {\r\n      winner = \"userWins\";\r\n    } else if (computerWins) {\r\n      winner = \"computerWins\";\r\n    } else {\r\n      winner = \"tiedGame\";\r\n    }\r\n\r\n    return winner;\r\n  },\r\n\r\n  changeHistory(gameResult: Winner) {\r\n    const currentState = this.getState();\r\n\r\n    if (gameResult === \"userWins\") {\r\n      currentState.history.userWins += 1;\r\n    } else if (gameResult === \"computerWins\") {\r\n      currentState.history.computerWins += 1;\r\n    }\r\n\r\n    this.setState(currentState);\r\n  },\r\n\r\n  setMove(move: Move, player: Player) {\r\n    const currentState = this.getState();\r\n\r\n    currentState[\"currentGame\"][player] = move;\r\n\r\n    this.setState(currentState);\r\n  },\r\n\r\n  getCurrentGame() {\r\n    const currentState = this.getState();\r\n\r\n    return currentState.currentGame;\r\n  },\r\n\r\n  getCurrentHistory() {\r\n    const currentState = this.getState();\r\n\r\n    return currentState.history;\r\n  },\r\n\r\n  restartGame() {\r\n    const currentState = this.getState();\r\n\r\n    currentState.currentGame.computerMove = \"none\";\r\n    currentState.currentGame.userMove = \"none\";\r\n\r\n    this.setState(currentState);\r\n  },\r\n};\r\n\r\nexport { state, Move };\r\n","import { state, Move } from \"../../state\";\r\n\r\nimport \"./countdown.css\";\r\n\r\nfunction randomMove(): Move {\r\n  const possibleMoves: Move[] = [\"rock\", \"paper\", \"scissors\"];\r\n\r\n  const selectRandomMove: Move =\r\n    possibleMoves[Math.floor(Math.random() * possibleMoves.length)];\r\n\r\n  return selectRandomMove;\r\n}\r\n\r\nexport function initCountdownPage(params) {\r\n  let countdownLimit: number = 3;\r\n\r\n  const div = document.createElement(\"div\");\r\n  div.classList.add(\"game-countdown\");\r\n\r\n  div.innerHTML = `\r\n    <div class=\"circle-container\">\r\n      <div class=\"circle\">\r\n        <h3 class=\"countdown-counter\">${countdownLimit}</h3>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"hands-container\">  \r\n      <hand-comp handType=\"scissors\"></hand-comp>\r\n      <hand-comp handType=\"rock\"></hand-comp>\r\n      <hand-comp handType=\"paper\"></hand-comp>\r\n    </div>\r\n  `;\r\n\r\n  const handsComps = div.querySelectorAll(\"hand-comp\");\r\n  handsComps.forEach((hand) => {\r\n    hand.addEventListener(\"handClick\", (e: any) => {\r\n      console.log(e.target);\r\n      console.log(e.detail);\r\n\r\n      const selectedMove: Move = e.detail.handMove;\r\n\r\n      state.setMove(selectedMove, \"userMove\");\r\n\r\n      handsComps.forEach((auxHand) => {\r\n        const imgEl = auxHand.shadowRoot.querySelector(\".hand\");\r\n\r\n        if (auxHand.getAttribute(\"handType\") !== selectedMove) {\r\n          imgEl.classList.add(\"inactive-hand\");\r\n          imgEl.classList.remove(\"active-hand\");\r\n        } else if (auxHand.getAttribute(\"handType\") === selectedMove) {\r\n          imgEl.classList.add(\"active-hand\");\r\n          imgEl.classList.remove(\"inactive-hand\");\r\n        }\r\n      });\r\n    });\r\n  });\r\n\r\n  state.setMove(randomMove(), \"computerMove\");\r\n\r\n  const countdownCounterEl = div.querySelector(\".countdown-counter\");\r\n\r\n  const counterIntervalId = setInterval(() => {\r\n    countdownLimit--;\r\n\r\n    if (countdownLimit === 0) {\r\n      clearInterval(counterIntervalId);\r\n\r\n      const currentGame = state.getCurrentGame();\r\n\r\n      if (currentGame.userMove === \"none\") {\r\n        state.setMove(randomMove(), \"userMove\");\r\n      }\r\n\r\n      div.classList.add(\"game-hands-show\");\r\n\r\n      div.innerHTML = `\r\n        <hand-comp handType=${currentGame.computerMove} class=\"computer-hand\" handHeight=\"215px\" handWidth=\"90px\"></hand-comp>\r\n        <hand-comp handType=${currentGame.userMove} class=\"user-hand\" handHeightt=\"215px\" handWidth=\"90px\"></hand-comp>\r\n       `;\r\n\r\n      setTimeout(() => {\r\n        params.goTo(\"/desafio-dwf-m5/result\");\r\n      }, 3000);\r\n    }\r\n\r\n    countdownCounterEl.textContent = countdownLimit.toString();\r\n\r\n  }, 1000);\r\n\r\n  return div;\r\n}\r\n","module.exports = require('./helpers/bundle-url').getBundleURL('di8mO') + require('./helpers/bundle-manifest').resolve(\"15RfT\");","\"use strict\";\n\nvar bundleURL = {};\n\nfunction getBundleURLCached(id) {\n  var value = bundleURL[id];\n\n  if (!value) {\n    value = getBundleURL();\n    bundleURL[id] = value;\n  }\n\n  return value;\n}\n\nfunction getBundleURL() {\n  try {\n    throw new Error();\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp):\\/\\/[^)\\n]+/g);\n\n    if (matches) {\n      // The first two stack frames will be this function and getBundleURLCached.\n      // Use the 3rd one, which will be a runtime in the original bundle.\n      return getBaseURL(matches[2]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n} // TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\n\n\nfunction getOrigin(url) {\n  var matches = ('' + url).match(/(https?|file|ftp):\\/\\/[^/]+/);\n\n  if (!matches) {\n    throw new Error('Origin not found');\n  }\n\n  return matches[0];\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\nexports.getOrigin = getOrigin;","module.exports = require('./helpers/bundle-url').getBundleURL('di8mO') + require('./helpers/bundle-manifest').resolve(\"dNBXa\");","module.exports = require('./helpers/bundle-url').getBundleURL('di8mO') + require('./helpers/bundle-manifest').resolve(\"84zE7\");","import { state } from \"../../state\";\r\n\r\nimport \"./result.css\";\r\n\r\nconst resultsImages = {\r\n  userWins: require(\"url:../../images/userWin.svg\"),\r\n  computerWins: require(\"url:../../images/computerWin.svg\"),\r\n  tiedGame: require(\"url:../../images/tiedGame.svg\"),\r\n};\r\n\r\nexport function initResultPage(params) {\r\n  const div = document.createElement(\"div\");\r\n  div.classList.add(\"main-container\");\r\n\r\n  const currentGame = state.getCurrentGame();\r\n  const gameResult = state.whoWins(\r\n    currentGame.userMove,\r\n    currentGame.computerMove\r\n  );\r\n  console.log(gameResult);\r\n\r\n  if (gameResult === \"userWins\") {\r\n    div.classList.add(\"user-wins\");\r\n  } else if (gameResult === \"computerWins\") {\r\n    div.classList.add(\"computer-wins\");\r\n  } else if (gameResult === \"tiedGame\") {\r\n    div.classList.add(\"tied-game\");\r\n  }\r\n\r\n  state.changeHistory(gameResult);\r\n\r\n  const currentHistory = state.getCurrentHistory();\r\n\r\n  state.restartGame();\r\n\r\n  div.innerHTML = `\r\n    <div class=\"subcontainer\">\r\n      <img src=${resultsImages[gameResult]} class=\"result__img\" />\r\n\r\n      <div class=\"result__record\">\r\n        <h3 class=\"result__score\"> Score: </h3>\r\n        <p class=\"result__score-points\"> Vos: ${currentHistory.userWins} </p>\r\n        <p class=\"result__score-points\"> Máquina: ${currentHistory.computerWins} </p>\r\n      </div>\r\n\r\n      <div class=\"button-section\">\r\n        <button-comp class=\"start-button\"> Volver a jugar </button-comp>\r\n      </div>\r\n    </div>\r\n  `;\r\n\r\n  const buttonEl = div.querySelector(\"button-comp\");\r\n  buttonEl.addEventListener(\"click\", () => {\r\n    params.goTo(\"/desafio-dwf-m5/instructions\");\r\n  });\r\n\r\n  return div;\r\n}\r\n","import { initHomePage } from \"./pages/home/home\";\r\nimport { initInstructionsPage } from \"./pages/instructions/instructions\";\r\nimport { initCountdownPage } from \"./pages/countdown/countdown\";\r\nimport { initResultPage } from \"./pages/result/result\";\r\n\r\nconst routes = [\r\n  {\r\n    route: /\\/desafio-dwf-m5\\/home/,\r\n    page: initHomePage,\r\n  },\r\n  {\r\n    route: /\\/desafio-dwf-m5\\/instructions/,\r\n    page: initInstructionsPage,\r\n  },\r\n  {\r\n    route: /\\/desafio-dwf-m5\\/countdown/,\r\n    page: initCountdownPage,\r\n  },\r\n  {\r\n    route: /\\/desafio-dwf-m5\\/result/,\r\n    page: initResultPage,\r\n  },\r\n];\r\n\r\nexport function initRouter(container: Element) {\r\n  function goTo(path: string) {\r\n    history.pushState({}, \"\", path);\r\n    handleRoute(path);\r\n  }\r\n\r\n  function handleRoute(route: string) {\r\n    for (const r of routes) {\r\n      if (r.route.test(route)) {\r\n        const page: Element = r.page({ goTo: goTo });\r\n\r\n        container.firstChild?.remove();\r\n\r\n        container.appendChild(page);\r\n      }\r\n    }\r\n  }\r\n\r\n  if (location.host.includes(\"github.io\")) {\r\n    goTo(\"/desafio-dwf-m5/home\");\r\n  } else {\r\n    handleRoute(location.pathname);\r\n  }\r\n\r\n  window.onpopstate = function () {\r\n    handleRoute(location.pathname);\r\n  };\r\n}\r\n","import \"./home.css\";\r\n\r\nexport function initHomePage(params) {\r\n  const div = document.createElement(\"div\");\r\n  div.classList.add(\"main-container\");\r\n\r\n  div.innerHTML = `\r\n    <h1 class=\"home__title\" > Piedra Papel ó Tijera </h1>\r\n    \r\n    <button-comp> Empezar </button-comp>\r\n\r\n    <div class=\"hands-container\">  \r\n      <hand-comp handType=\"scissors\"></hand-comp>\r\n      <hand-comp handType=\"rock\"></hand-comp>\r\n      <hand-comp handType=\"paper\"></hand-comp>\r\n    </div>\r\n  `;\r\n\r\n  const buttonEl = div.querySelector(\"button-comp\");\r\n  buttonEl.addEventListener(\"click\", () => {\r\n    params.goTo(\"/desafio-dwf-m5/instructions\");\r\n  });\r\n\r\n  return div;\r\n}\r\n","import \"./instructions.css\";\r\n\r\nexport function initInstructionsPage(params) {\r\n  const div = document.createElement(\"div\");\r\n  div.classList.add(\"main-container\");\r\n\r\n  div.innerHTML = `\r\n    <p class=\"instructions__title\" > Presioná jugar y elegí: piedra, papel o tijera antes de que pasen los 3 segundos. </p>\r\n\r\n    <button-comp> ¡Jugar! </button-comp>\r\n\r\n    <div class=\"hands-container\">  \r\n      <hand-comp handType=\"scissors\"></hand-comp>\r\n      <hand-comp handType=\"rock\"></hand-comp>\r\n      <hand-comp handType=\"paper\"></hand-comp>\r\n    </div>  \r\n\r\n  `;\r\n\r\n  const buttonEl = div.querySelector(\"button-comp\");\r\n  buttonEl.addEventListener(\"click\", () => {\r\n    params.goTo(\"/desafio-dwf-m5/countdown\");\r\n  });\r\n\r\n  return div;\r\n}\r\n","module.exports = require('./helpers/bundle-url').getBundleURL('di8mO') + require('./helpers/bundle-manifest').resolve(\"2qdPV\");","module.exports = require('./helpers/bundle-url').getBundleURL('di8mO') + require('./helpers/bundle-manifest').resolve(\"9ajrQ\");","module.exports = require('./helpers/bundle-url').getBundleURL('di8mO') + require('./helpers/bundle-manifest').resolve(\"3vvon\");","const handImages = {\r\n  paper: require(\"url:../../images/paper-hand.png\"),\r\n  rock: require(\"url:../../images/rock-hand.png\"),\r\n  scissors: require(\"url:../../images/scissors-hand.png\"),\r\n};\r\n\r\nexport function initHandComp() {\r\n  class HandComp extends HTMLElement {\r\n    shadow: ShadowRoot;\r\n\r\n    constructor() {\r\n      super();\r\n      this.shadow = this.attachShadow({ mode: \"open\" });\r\n    }\r\n\r\n    connectedCallback() {\r\n      this.render();\r\n    }\r\n\r\n    addHandListeners() {\r\n      const handImg: Element = this.shadow.querySelector(\".hand\");\r\n\r\n      handImg.addEventListener(\"click\", () => {\r\n        const handCustomEvent = new CustomEvent(\"handClick\", {\r\n          detail: {\r\n            handMove: this.getAttribute(\"handType\"), // Dato que expongo al exterior, un string que es el tipo de dato, consolear donde use este customEvent hand-comp\r\n          },\r\n        });\r\n\r\n        this.dispatchEvent(handCustomEvent);\r\n      });\r\n    }\r\n\r\n    render() {\r\n      const handType = this.getAttribute(\"handType\") || \"paper\";\r\n\r\n      const handHeight = this.getAttribute(\"handHeight\") || \"180px\";\r\n      const handWidth = this.getAttribute(\"handWidth\") || \"70px\";\r\n\r\n      const imgEl = document.createElement(\"img\");\r\n      imgEl.classList.add(\"hand\");\r\n      imgEl.setAttribute(\"src\", handImages[handType]);\r\n\r\n      const handStyles = document.createElement(\"style\");\r\n      handStyles.textContent = `\r\n        * {\r\n            box-sizing: border-box;\r\n        }\r\n\r\n        .hand {\r\n            height: ${handHeight};\r\n            width: ${handWidth};\r\n            transform: translateY(30px);\r\n            transition: all 0.3s ease-in-out;\r\n            cursor: pointer;\r\n        }\r\n\r\n        .active-hand {\r\n            transform: translateY(5px);\r\n            transition: all 0.3s ease-in-out;\r\n        }\r\n\r\n        .inactive-hand {\r\n            opacity: 45%;\r\n            transition: all 0.3s ease-in-out;\r\n        }        \r\n      `;\r\n\r\n      this.shadow.appendChild(handStyles);\r\n      this.shadow.appendChild(imgEl);\r\n\r\n      this.addHandListeners();\r\n    }\r\n  }\r\n\r\n  customElements.define(\"hand-comp\", HandComp);\r\n}\r\n","import { initRouter } from \"./router\";\r\n\r\nimport { initButtonComp } from \"./components/button/button\";\r\nimport { initHandComp } from \"./components/hand/hand\";\r\n\r\nimport { state } from \"./state\";\r\n\r\nfunction main() {\r\n  initRouter(document.querySelector(\"#root\"));\r\n  state.initState();\r\n\r\n\r\n  initButtonComp();\r\n  initHandComp();\r\n}\r\nmain();\r\n","export function initButtonComp() {\r\n  class ButtonComp extends HTMLElement {\r\n    shadow: ShadowRoot;\r\n\r\n    constructor() {\r\n      super();\r\n      this.shadow = this.attachShadow({ mode: \"open\" });\r\n    }\r\n\r\n    connectedCallback() {\r\n      this.render();\r\n    }\r\n\r\n    render() {\r\n      const buttonEl = document.createElement(\"button\");\r\n      buttonEl.classList.add(\"button\");\r\n\r\n      const buttonStyles = document.createElement(\"style\");\r\n      buttonStyles.textContent = `\r\n        .button {\r\n            width: 100%;\r\n            height: 87px;\r\n            padding: 10px;\r\n          \r\n            font-family: inherit;\r\n            font-size: 45px;\r\n          \r\n            color: white;\r\n            background-color: #006cfc;\r\n            border: solid 10px #09428d;\r\n            border-radius: 10px;          \r\n        }\r\n      `;\r\n\r\n      buttonEl.textContent = this.textContent;\r\n\r\n      this.shadow.appendChild(buttonStyles);\r\n      this.shadow.appendChild(buttonEl);\r\n    }\r\n  }\r\n  customElements.define(\"button-comp\", ButtonComp);\r\n}\r\n"],"names":["$5b2b3cdd5d136d36$export$40339995e8a21591","$5b2b3cdd5d136d36$export$357eb1b4f03c1402","$5b2b3cdd5d136d36$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$792e4afce125cd80$export$c837a8b98c265ae3","data","currentGame","computerMove","userMove","history","userWins","computerWins","listeners","getState","setState","newState","cb","this","localStorage","setItem","stringify","initState","localData","getItem","subscribe","push","whoWins","includes","winner","changeHistory","gameResult","currentState","setMove","move","player","getCurrentGame","getCurrentHistory","restartGame","$029d93244878679d$var$randomMove","possibleMoves","Math","floor","random","module","exports","getBundleURL","resolve","$f3d8ccfa2247eb90$export$da289beea9c5b10d","$f3d8ccfa2247eb90$var$bundleURL","$f3d8ccfa2247eb90$var$getBaseURL","url","replace","value","err","matches","stack","match","$f3d8ccfa2247eb90$var$getBundleURL","$1de7997759966882$var$resultsImages","tiedGame","$1f0246c3bb9f020c$var$routes","route","page","params","div","document","createElement","classList","add","innerHTML","querySelector","addEventListener","goTo","countdownLimit","handsComps","querySelectorAll","forEach","hand","e","console","log","target","detail","selectedMove","handMove","auxHand","imgEl","shadowRoot","getAttribute","remove","countdownCounterEl","counterIntervalId","setInterval","clearInterval","setTimeout","textContent","toString","currentHistory","$de4783ed2c05b720$var$handImages","paper","rock","scissors","container","path","pushState","handleRoute","r","test","firstChild","appendChild","location","host","pathname","window","onpopstate","$1f0246c3bb9f020c$export$f03b0d45d4202f55","ButtonComp","HTMLElement","super","shadow","attachShadow","mode","connectedCallback","render","buttonEl","buttonStyles","customElements","define","$7c602efb8cb2c307$export$52a1bccebbec3b3b","HandComp","addHandListeners","handCustomEvent","CustomEvent","dispatchEvent","handType","handHeight","handWidth","setAttribute","handStyles","$de4783ed2c05b720$export$33f079fad2af864d"],"version":3,"file":"index.c091c0ff.js.map"}